<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>Nip-igniter by amrew</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>Nip-igniter</h1>
          <h2>Crud Generator For Codeigniter Framework</h2>
        </header>

        <section id="downloads" class="clearfix">
          <a href="https://github.com/amrew/nip-igniter/zipball/master" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="https://github.com/amrew/nip-igniter/tarball/master" id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
          <a href="https://github.com/amrew/nip-igniter" id="view-on-github" class="button"><span>View on GitHub</span></a>
        </section>

        <hr>

        <section id="main_content">
          <h1>
<a name="welcome-to-nipigniter" class="anchor" href="#welcome-to-nipigniter"><span class="octicon octicon-link"></span></a>Welcome to NipIgniter.</h1>

<p>Hello, teman-teman programmer Codeigniter Framework.</p>

<p>Project ini adalah project sederhana yang ditujukan bagi pengguna codeigniter framework yang ingin mencoba style berbeda dari style yang biasanya. Mungkin bisa dibilang style yang lebih 'modern'. :p</p>

<p>Di NipIgniter terdapat fitur tambahan yang sedikit meniru framework-framework yang ada. Seperti Yii Framework, CakePHP, Laravel. Tapi hanya sedikit tambahan saja. Soalnya saya masih newbie :D. 
Salah satu fitur tambahannya adalah model ORM yang sekarang digunakan oleh banyak framework PHP. Contohnya saja, method first() untuk menyeleksi satu row dari database, all() untuk menyeleksi semua row di database dan lainnya. </p>

<p>Fitur penting yang ingin disajikan adalah generator CRUD. Kalau teman-teman pernah menggunakan Yii, pastinya fitur ini sudah familiar. Fitur ini men-generate table yang ada di database. Table tersebut dijadikan sebagai model, dan kemudian dari model yang terbentuk dibuatlah fungsi CRUD.</p>

<p>Oke langsung saja. Langkah-langkah menggunakan Fitur CRUD adalah sebagai berikut.</p>

<h2>
<a name="crud-generator" class="anchor" href="#crud-generator"><span class="octicon octicon-link"></span></a>CRUD Generator</h2>

<h4>
<a name="1-pertama-kali-memasuki-halaman-utama-akan-terlihat-halaman-berikut" class="anchor" href="#1-pertama-kali-memasuki-halaman-utama-akan-terlihat-halaman-berikut"><span class="octicon octicon-link"></span></a>1). Pertama kali memasuki halaman utama, akan terlihat halaman berikut</h4>

<p>Sebelumnya konfigurasikan dulu config database di</p>

<pre><code>application/config/database.php
</code></pre>

<p>dan config base_url di </p>

<pre><code>application/config/config.php
</code></pre>

<p><img src="http://i44.tinypic.com/ei2vdy.jpg" alt="Home Page NipIgniter Image"></p>

<p>Hanya ada 2 inputan di form. Inputan pertama adalah nama tabel di database,
nama tabel harus direkomendasikan menggunakan huruf kecil, jika lebih dari satu kata maka digabungkan menggunakan _ (underscore).</p>

<pre><code>user, jenis_kelamin, artikel, kategori_artikel
</code></pre>

<h4>
<a name="2-contoh-tabel-yang-akan-di-generate" class="anchor" href="#2-contoh-tabel-yang-akan-di-generate"><span class="octicon octicon-link"></span></a>2). Contoh Tabel yang akan di generate</h4>

<p><img src="http://i39.tinypic.com/25i7pmf.jpg" alt="Table For Example Image"></p>

<p>Disetiap table tambahkan 3 field berikut dengan type DateTime</p>

<pre><code>created, updated, deleted
</code></pre>

<h4>
<a name="3-generate-table" class="anchor" href="#3-generate-table"><span class="octicon octicon-link"></span></a>3). Generate Table</h4>

<p>Generate Tabel master terlebih dahulu, dalam contoh ini berarti generate terlebih dahulu tabel program_studi. Setelah itu generate tabel mahasiswa.</p>

<h4>
<a name="4-konfigurasi-crud" class="anchor" href="#4-konfigurasi-crud"><span class="octicon octicon-link"></span></a>4). Konfigurasi CRUD</h4>

<p><img src="http://i43.tinypic.com/1zbxs9v.jpg" alt="Program Studi Configuration Image"></p>

<p><img src="http://i43.tinypic.com/2wqcpdx.jpg" alt="Mahasiswa Configuration Image"></p>

<p><img src="http://i43.tinypic.com/bfi5pe.jpg" alt="Configuration Image"></p>

<p>Setelah menekan tombol generate, maka akan muncul konfigurasi sederhana dari CRUD. Field Type adalah tipe dari inputan yang akan muncul pada saat menuju halaman add atau edit. Jika memilih tipe 'select' maka dibutuhkan Model yang akan menjadi acuan. Show on grid manjadi acuan apakah field tersebut akan ditampilkan di tabel grid atau tidak.</p>

<h4>
<a name="5-finish" class="anchor" href="#5-finish"><span class="octicon octicon-link"></span></a>5). Finish</h4>

<p>Selesai, silahkan menuju alamat url /mahasiswa dan /program-studi. URL sesuai dengan nama controller, hurufnya kecil semua dipisahkan ama tanda (-) strip, tapi kata controller tidak disertakan.
Untuk lebih jelasnya silahkan baca beberapa style perubahan yang ada di NipIgniter.</p>

<h3>
<a name="next" class="anchor" href="#next"><span class="octicon octicon-link"></span></a>Next</h3>

<p>Setelah mengetahui fitur CRUD, ada baiknya kita mengetahui juga beberapa perubahan style yang ada di NipIgniter.</p>

<h3>
<a name="1-controller-dan-view" class="anchor" href="#1-controller-dan-view"><span class="octicon octicon-link"></span></a>1). Controller dan View</h3>

<h4>
<a name="penamaan" class="anchor" href="#penamaan"><span class="octicon octicon-link"></span></a>Penamaan</h4>

<p>Penamaan controller sedikit diketatkan di NipIgniter. Aturannya adalah penamaan controller menggunakan camel case. Huruf depan besar, jika lebih dari dua kata maka digabung tanpa menggunakan spasi, kata kedua dan seterusnya dimulai dengan huruf besar. Akhiran diberi kata Controller. Berikut adalah contoh penamaan controller, file, dan penulisan URLnya.</p>

<p>Nama controller : </p>

<pre><code>UserController,ProgramStudiController,JenisKelaminController
</code></pre>

<p>Nama File   : </p>

<pre><code>UserController.php, ProgramStudiController.php, JenisKelaminController.php
</code></pre>

<p>Penulisan URL   : </p>

<pre><code>/user, /program-studi, /jenis-kelamin
</code></pre>

<p>untuk penulisan method pada controller sebagai berikut</p>

<p>Method :</p>

<pre><code>getUserByName()
listArtikel()
komentar()
</code></pre>

<p>URL :</p>

<pre><code>get-user-by-name
list-artikel
komentar
</code></pre>

<p>Parameter pada URL tidak ada perubahan, stylenya seperti biasa.</p>

<h4>
<a name="layout" class="anchor" href="#layout"><span class="octicon octicon-link"></span></a>Layout</h4>

<p>NipIgniter menggunakan templating sederhana. Menggunakan 2 buah view. View pertama dinamakan 'layout', kemudian view yang kedua dinamakan 'partial'. Ada 2 buah method yang menggantikan cara lama dalam menampilkan view.</p>

<pre><code>$this-&gt;load-&gt;view('nama_view', $data);
</code></pre>

<p>diganti :</p>

<pre><code>$this-&gt;render('nama_view', $data);
</code></pre>

<p>atau</p>

<pre><code>$this-&gt;renderPartial('nama_view', $data);
</code></pre>

<p>Method render() membutuhkan file yang akan menjadi induk dari file partial yang akan ditampilkan.
Layout yang menjadi induk path-nya secara default mengacu pada file application/views/layout/main.php.
Definisi path layout dapat diubah berdasar variable $this-&gt;pageLayout = "layout/main".</p>

<p>Method renderPartial() langsung menampilkan view yang dituju. 
Method ini fungsinya sama dengan $this-&gt;load-&gt;view().</p>

<p>Mudahnya gini sebagai contoh, view dengan nama 'edit_user' di masukkan ke dalam view dengan nama 'main' (sebagai layout). Bagi teman-teman yang pernah menggunakan framework lain seperti yii atau laravel, mungkin sudah familiar, karna memang konsepnya meniru mereka.</p>

<h4>
<a name="view" class="anchor" href="#view"><span class="octicon octicon-link"></span></a>View</h4>

<p>Di controller juga terdapat variable $this-&gt;view; yang isinya adalah string 'controller/method' sesuai dengan URL. Disini saya menghimbau agar penamaan view sesuai dengan controller dan method yang di akses.</p>

<p>Contohnya :</p>

<pre><code>UserController dengan method index()
AdminUtamaController dengan method kelolaUser()
</code></pre>

<p>view-nya adalah</p>

<pre><code>user/index.php
admin-utama/kelola-user.php
</code></pre>

<p>Jika mengikuti style ini maka dengan mudah dapat dilakukan perenderan view dengan cara </p>

<pre><code>$this-&gt;render($this-&gt;view);
</code></pre>

<h3>
<a name="2-model" class="anchor" href="#2-model"><span class="octicon octicon-link"></span></a>2). Model</h3>

<p>Penggunaan model di NipIgniter mengadopsi style-style dari framework lain seperti yii, cake, atau laravel. Jika teman-teman pernah memakai framework-framework tersebut mungkin teman-teman sudah lebih gampang untuk memakainya. Tapi walaupun ada teman-teman yang belum familiar, pelajari saja dokumentasi dibawah ini. Gampang koq. :D</p>

<p>Modelnya mengextends kelas Nip_Model.</p>

<h4>
<a name="pendefinisian-nip_model" class="anchor" href="#pendefinisian-nip_model"><span class="octicon octicon-link"></span></a>Pendefinisian Nip_Model</h4>

<pre><code>class User extends Nip_Model {}
</code></pre>

<p>Nip_Model mempunyai variable yang mendefinisikan pada table mana model ini mengacu. Dan Nip_Model perlu mengetahui field mana yang menjadi primary key. Diusahakan primary key-nya pakai kata 'id' saja. Lebih simple.</p>

<pre><code>class User extends Nip_Model {
    protected $tableName = "user";
    protected $primary = "id";
}
</code></pre>

<p>Atribut User model adalah nama-nama field asli yang ada di database. Perlu diperhatikan bahwa HANYA field database menggunakan sifat 'public'. Selain itu harus protected atau private. Nip_Model mengenali atribut yang bersifat public sebagai field dari database, jadi pada saat insert atau update atribut public itu lah yang akan di masukkan kedalam database. Jika ada atribut public tapi bukan merupakan field database, maka akan terjadi error pada saat insert atau update. 
Diusahakan nama field nya huruf kecil semua dan jika kata nya lebih dari 1 kata maka dipisahkan dengan spasi.</p>

<pre><code>class User extends Nip_Model {
    protected $tableName = "user";
    protected $primary = "id";

    public $id;
    public $fullname;
    public $username;
    public $password;
    public $email;
    public $created;
    public $updated;
    public $deleted;

    protected $softDeletes = TRUE;
}
</code></pre>

<p>Aturan tambahan di Nip_Model ada 3 field dasar yang harus ada di tiap table database. Yaitu <code>created, updated, dan deleted</code>
Terlihat di atas bahwa ada atribut yang bernama $softDeletes, konsep ini meniru dari framework laravel, yang fungsi intinya adalah data yang di delete tidak akan benar-benar dihapus jika tidak dilakukan aksi forceDelete(). Jadi data yang di delete bisa dinamakan sebagai sampah.</p>

<h4>
<a name="validasi" class="anchor" href="#validasi"><span class="octicon octicon-link"></span></a>Validasi</h4>

<p>Validasi di Codeigniter bisa dikatakan lumayann ribet. Tapi di NipIgniter, validasi dilakukan di model. Teman-teman cukup menambahkan atribut array seperti di bawah ini. (Bisa digenerate)</p>

<pre><code>    protected $validator = array(
            'User[fullname]' =&gt; 'required|max_length[100]',
            'User[username]' =&gt; 'required|max_length[20]',
            'User[password]' =&gt; 'required|max_length[100]',
            'User[email]' =&gt; 'required|max_length[50]|valid_email',
        );

    protected $label = array(
            'User[fullname]' =&gt; 'Fullname',
            'User[username]' =&gt; 'Username',
            'User[password]' =&gt; 'Password',
            'User[email]' =&gt; 'Email',
        );
</code></pre>

<p>Tidak perlu bingung, fitur ini hanya mempersingkat kita untuk melakukan validasi.
Validasi bisa di lakukan dengan menggunakan method $user-&gt;validate(). 
(Contohnya bisa dilihat pada file yang di generate dengan CRUD Generator).</p>

<h4>
<a name="operasi-standar" class="anchor" href="#operasi-standar"><span class="octicon octicon-link"></span></a>Operasi standar</h4>

<h5>
<a name="menyeleksi-semua-row-di-suatu-model" class="anchor" href="#menyeleksi-semua-row-di-suatu-model"><span class="octicon octicon-link"></span></a>Menyeleksi semua row di suatu model</h5>

<p>Parameter lengkap bisa dilihat pada application/core/Nip_Model.php</p>

<pre><code>$array = $this-&gt;User-&gt;all();

//menggunakan parameter where
$array = $this-&gt;User-&gt;all(array('email'=&gt;'honeyf.amew@gmail.com'));
</code></pre>

<h5>
<a name="menyeleksi-row-pertama-pada-suatu-model" class="anchor" href="#menyeleksi-row-pertama-pada-suatu-model"><span class="octicon octicon-link"></span></a>Menyeleksi row pertama pada suatu model</h5>

<pre><code>$object = $this-&gt;User-&gt;first();

//berdasarkan primary key
$object = $this-&gt;User-&gt;first(1);
</code></pre>

<h5>
<a name="menghitung-jumlah-baris" class="anchor" href="#menghitung-jumlah-baris"><span class="octicon octicon-link"></span></a>Menghitung jumlah baris</h5>

<pre><code>$count = $this-&gt;User-&gt;count();

//berdasarkan parameter $where
$count = $this-&gt;User-&gt;count(array('jenis_kelamin'=&gt;'laki-laki'));
</code></pre>

<h5>
<a name="menyimpan-row-baru-insert" class="anchor" href="#menyimpan-row-baru-insert"><span class="octicon octicon-link"></span></a>Menyimpan row baru (insert)</h5>

<pre><code>$object = new User();
$object-&gt;fullname = "Hanif Nur Amrullah";
$object-&gt;username = "amrew";
$object-&gt;password = md5("rahasia");
$object-&gt;email = "honeyf.amrew@gmail.com";
$object-&gt;save();
</code></pre>

<h5>
<a name="mengubah-row-update" class="anchor" href="#mengubah-row-update"><span class="octicon octicon-link"></span></a>Mengubah row (update)</h5>

<pre><code>$id = 1;
$object = $this-&gt;User-&gt;first($id);
$object-&gt;password = md5("password-diganti");
$object-&gt;save();
</code></pre>

<h5>
<a name="menghapus-row-delete" class="anchor" href="#menghapus-row-delete"><span class="octicon octicon-link"></span></a>Menghapus row (delete)</h5>

<pre><code>$object = $this-&gt;User-&gt;first($id);
$model-&gt;delete();

atau 

$this-&gt;User-&gt;delete($id);
$this-&gt;User-&gt;delete(array('jenis_kelamin'=&gt;'laki-laki'));
</code></pre>
        </section>

        <footer>
          Nip-igniter is maintained by <a href="https://github.com/amrew">amrew</a><br>
          This page was generated by <a href="http://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
        </footer>

        
      </div>
    </div>
  </body>
</html>